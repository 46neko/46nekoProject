<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>ToneCubesWebEd.</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<script src="https://code.jquery.com/jquery.min.js"></script>
<script>
$(window).on('touchmove.noScroll', function(e) {
    e.preventDefault();
});
preload = function(){
	for(var i = 0; i<arguments.length; i++){
		jQuery("<img>").attr("src", arguments[i]);
	}
};
preload(
"data/tone_0.png",
"data/tone_1.png",
"data/tone_2.png",
"data/tone_3.png",
"data/tone_4.png",
"data/tone_5.png",
"data/tone_6.png",
"data/tone_7.png",
"data/tone_8.png",
"data/tone_9.png",
"data/tone_10.png",
"data/tone_11.png",
"../tone_cube_editer/data/tone_12.png",
"../tone_cube_editer/data/tone_13.png"
);
function createHttpRequest(){
if(window.ActiveXObject){
try{
return new ActiveXObject("Msxml2.XMLHTTP");
}catch(e){
try {
return new ActiveXObject("Microsoft.XMLHTTP");
}catch(e2){
return null;
}
}
}else if(window.XMLHttpRequest){
return new XMLHttpRequest();
}else{
return null;
}
}
function fileDownload(url){
var httpobj = createHttpRequest();
httpobj.open("GET",url,false);
httpobj.send(null);
var data = httpobj.responseText;
return data;
}
$('head').append(
    '<style type="text/css">#container { display: none; } #fade, #loader { display: block; }</style>'
);
 
jQuery.event.add(window,"load",function() {
    var pageH = $("#container").height();
 
    $("#fade").css("height", pageH).delay(900).fadeOut(800);
    $("#loader").delay(600).fadeOut(300);
    $("#container").css("display", "block");
});
var tcd;
function listload(i){
document.getElementById("details").innerHTML = '<center><img src="data/loadingcircle.gif"></center>';
//$('body,html').animate({scrollTop:$(window).outerHeight(true),scrollLeft:$(window).outerWidth(true)}, 300, 'swing');
tcd=JSON.parse(fileDownload(musics[i][1]));
document.getElementById("details").innerHTML = '<p style="font-size:150%;">'+tcd.title+'</p><br>'+tcd.credit.replace(/\r?\n/g, '<br>');
}
var menu=false;
function menuclick(){
if(menu){
document.getElementById("top").setAttribute("class","menuback");
document.getElementById("bottom").setAttribute("class","menuback");
document.getElementById("left").setAttribute("class","menuback");
document.getElementById("right").setAttribute("class","menuback");
menu=false;
}else{
document.getElementById("top").setAttribute("class","top");
document.getElementById("bottom").setAttribute("class","bottom");
document.getElementById("left").setAttribute("class","left");
document.getElementById("right").setAttribute("class","right");
menu=true;
}
}
function share(){
window.open("https://plus.google.com/u/0/share?url=https://46neko.github.io/46nekoProject/apps/ToneCubesWeb/index.html","popupwindow","height=620,width=620,scrollbars=true");
}
function upload() {
window.open("http://form1.fc2.com/form/?id=16fcea3e3f444050","popupwindw","height=620,width=620,scrollbars=true");
}
function loaded() {
$("#startload").fadeOut();
$.getScript("https://46neko.github.io/46nekoProject/apps/ToneCubesWeb/data/musiclist.js", function(){
for(i=0;i<musics.length;i++){
document.getElementById("musiclist").innerHTML += '<a href="javascript:listload('+i+');">'+musics[i][0]+'</a>';
}
document.getElementById("loadwindow").setAttribute("class","loaded");
});
}
</script>
<style>
@font-face {
font-family: "chogokuboso";
src: url('data/chogokubosogothic.eot'),
url('data/chogokubosogothic.woff');
}
body{
  margin:0px;
  -ms-content-zooming: none;
  font-family: "chogokuboso", "HGS明朝E", "ヒラギノ明朝 Pro W6","Hiragino Mincho Pro","ＭＳ Ｐ明朝",serif !important;
}
a:link { color: #000000; }
a:visited { color: #000000; }
a:hover { color: #cbcbcb; }
a:active { color: #000000; }
.trim {
    overflow: hidden;
    width: 100%;/* トリミングしたい枠の幅 */
    height: 100%;/* トリミングしたい枠の高さ */
    position: relative;
}
.trim img {
  position: absolute;
  top: 50%;
  left: 50%;
  -webkit-transform: translate(-50%, -50%);
  -ms-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  width: 100%;
  height: auto;
}

.menuback{
  position: absolute;
  left: calc(100%/3);
  top: calc(100%/3);
  width: calc(100%/3);
  height: calc(100%/3);
  transition: all 300ms 0s ease;
}
.top{
  position: absolute;
  left: calc(100%/3);
  top: 0;
  width: calc(100%/3);
  height: calc(100%/3);
  transition: all 300ms 0s ease;
}
.bottom{
  position: absolute;
  left: calc(100%/3);
  top: calc(100%/3*2);
  width: calc(100%/3);
  height: calc(100%/3);
  transition: all 300ms 0s ease;
}
.left{
  position: absolute;
  left: 0;
  top: calc(100%/3);
  width: calc(100%/3);
  height: calc(100%/3);
  transition: all 300ms 0s ease;
}
.right{
  position: absolute;
  left: calc(100%/3*2);
  top: calc(100%/3);
  width: calc(100%/3);
  height: calc(100%/3);
  transition: all 300ms 0s ease;
}
.loading{
  position: absolute;
  left: 0;
  top: 48px;
  width: 100%;
  height: calc(100%-48px);
  font-size: 200%;
  background-color: #ffffff;
  transition: all 300ms 0s ease;
}
.loaded{
  position: absolute;
  left: 0;
  top: 100%;
  width: 100%;
  height: 0;
  font-size: 200%;
  background-color: #ffffff;
  transition: all 300ms 0s ease;
}
</style>
</head>
<body onload="loaded();">
<div id="startload" style="position: absolute; left: 0; top: 0; width: 100%; height: 100%; background-color: #ffffff;"><img src="icon.png" width="320" height="46" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; margin: auto;" alt="Loading..."></div>
<p style="position: absolute; left: 10%; top: 10%; font-size:350%;">ToneCubesWebEd.</p>
<div style="position: absolute; right: 10%; top: calc(35% + 56px); height: 45%; display:inline-block;">
<img src="data/Transparency_0.png" style="width: auto; height: 100%;">
<a href="javascript:$('body,html').animate({scrollTop:0,scrollLeft:$(window).outerWidth(true)}, 300, 'swing');"><img id="top" src="data/list_0.png" class="menuback"></a>
<a href="javascript:upload();"><img id="bottom" src="data/up_0.png" class="menuback"></a>
<a href="mailto:46neko.mod@gmail.com?subject=ToneCubeMod-フィードバック&amp;body="><img id="left" src="data/feedback_0.png" class="menuback"></a>
<a href="javascript:share();"><img id="right" src="data/share_0.png" class="menuback"></a>
<a href="javascript:menuclick();"><img src="data/tone_max.png" style="position: absolute; left: calc(100%/3); top: calc(100%/3); width: calc(100%/3); height: calc(100%/3);"></a>
</div>
<div style="position: absolute; left: 100%; top: 0; width: 100%; height: 100%;">
<b style="font-size:200%;">Music select</b>
<a href="javascript:$('body,html').animate({scrollTop:0,scrollLeft:0}, 300, 'swing');"><b>トップへ戻る</b></a>
<b style="float: right;">tcdファイルを読み込む:<input type="file" id="tcd" accept=".tcd"></b>
<hr>
<b>
<div style="width: 100%;">
<div id="musiclist" style="position: absolute; left: 0; top: 48px; width: 50%;"></div>
<div id="details" style="position: absolute; left: 50%; top: 48px; width: 50%;"></div>
</div>
<div id="loadwindow" class="loading">
<center>Now&nbsp;loading...</center>
</div>
</b>
</div>
<div style="position: absolute; left: 0; top: 100%; width: 100%; height: 100%; background-color: rgba(12,12,12,1);">
<div class="trim"><img src="data/loading.gif" alt=""></div>
</div>
<div style="position: absolute; left: 0; top: 200%; width: 100%; height: 100%;">
<div style="height:30%"><audio id="audio" controls style="width:100%; display:none;"></audio></div>
<center>
<img id="run0" src="../tone_cube_editer/data/tone_0.png" style="width: 15%; height:auto; position:">
<img id="run1" src="../tone_cube_editer/data/tone_0.png" style="width: 15%; height:auto; position:">
<img id="run2" src="../tone_cube_editer/data/tone_0.png" style="width: 15%; height:auto; position:">
<img id="run3" src="../tone_cube_editer/data/tone_0.png" style="width: 15%; height:auto; position:">
</center>
</div>
</body>
</html>